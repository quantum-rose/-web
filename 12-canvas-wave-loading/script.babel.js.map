{"version":3,"sources":["script.js"],"names":["$canvas","document","getElementById","cvsCtx","getContext","PI_1_2","Math","PI","PI_2","cvsSize","offsetWidth","window","devicePixelRatio","cvsHalfSize","cvsQuarterSize","outlineWidth","circleRadius","clipCircleRadius","clipCircleDiameter","waveBottomRight","A","ω","φ","percent","isStaticRoundedRect","isDynamicRoundedRect","isDynamicInsetRoundedRect","lastTime","width","height","CanvasRenderingContext2D","prototype","roundedRect_arcTo","x","y","radius","moveTo","lineTo","arcTo","roundedRect_arc","inset","per","between01","isNaN","l","w","pw","h","ph","arc","parc","drawRoundedRect","save","beginPath","strokeStyle","lineWidth","stroke","restore","draw","Date","now","clearRect","renderWave","renderOutline","renderText","requestAnimationFrame","setCircleClip","drawWave","clip","p","fi","sin","i","closePath","fill","createLinearGradient","addColorStop","fillStyle","textAlign","textBaseline","font","fillText","floor","onresize","n","min","max","querySelector","addEventListener","checked"],"mappings":"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","sourcesContent":["const $canvas = document.getElementById('wave'),\r\n    cvsCtx = $canvas.getContext('2d'),\r\n    PI_1_2 = Math.PI / 2,\r\n    PI_2 = Math.PI * 2;\r\n\r\nlet cvsSize = $canvas.offsetWidth * window.devicePixelRatio,\r\n    cvsHalfSize = cvsSize / 2,\r\n    cvsQuarterSize = cvsSize / 4,\r\n    outlineWidth = cvsSize / 20,\r\n    circleRadius = cvsHalfSize - outlineWidth / 2,\r\n    clipCircleRadius = cvsHalfSize - outlineWidth,\r\n    clipCircleDiameter = clipCircleRadius * 2,\r\n    waveBottomRight = outlineWidth + clipCircleDiameter,\r\n    A = circleRadius / 6, // 振幅，最大为半径的六分之一\r\n    ω = Math.PI / circleRadius, // 角速度，此时周期为2R，在圆内最宽处刚好显示一个完整的周期\r\n    φ = Math.PI / 240, // 每16ms波形的相位变化差值\r\n    percent = 0,\r\n    isStaticRoundedRect = false,\r\n    isDynamicRoundedRect = false,\r\n    isDynamicInsetRoundedRect = false,\r\n    lastTime = 0;\r\n\r\n$canvas.width = $canvas.height = cvsSize;\r\n\r\nCanvasRenderingContext2D.prototype.roundedRect_arcTo = function (x, y, width, height, radius) {\r\n    cvsCtx.moveTo(x + radius, y);\r\n    cvsCtx.lineTo(x + width - radius, y);\r\n    cvsCtx.arcTo(x + width, y, x + width, y + radius, radius);\r\n    cvsCtx.lineTo(x + width, y + height - radius);\r\n    cvsCtx.arcTo(x + width, y + height, x + width - radius, y + height, radius);\r\n    cvsCtx.lineTo(x + radius, y + height);\r\n    cvsCtx.arcTo(x, y + height, x, y + height - radius, radius);\r\n    cvsCtx.lineTo(x, y + radius);\r\n    cvsCtx.arcTo(x, y, x + radius, y, radius);\r\n};\r\n\r\nCanvasRenderingContext2D.prototype.roundedRect_arc = function (x, y, width, height, radius, inset = false, per = 1) {\r\n    inset = !!inset;\r\n    per = between01(isNaN(per) ? 1 : per);\r\n\r\n    const l = width * 2 + height * 2 - radius * 8 + Math.PI * radius * 2;\r\n    const w = width - radius * 2;\r\n    const pw = w / l;\r\n    const h = height - radius * 2;\r\n    const ph = h / l;\r\n    const arc = (Math.PI * radius * 2) / 4;\r\n    const parc = arc / l;\r\n\r\n    cvsCtx.moveTo(x + radius, y);\r\n    cvsCtx.lineTo(x + radius + w * between01(per / pw), y);\r\n\r\n    if (per <= pw) return;\r\n\r\n    if (inset) {\r\n        cvsCtx.arc(x + width, y, radius, Math.PI, (Math.PI / 2) * (2 - between01((per - pw) / parc)), true);\r\n    } else {\r\n        cvsCtx.arc(\r\n            x + width - radius,\r\n            y + radius,\r\n            radius,\r\n            Math.PI / -2,\r\n            (Math.PI / -2) * (1 - between01((per - pw) / parc)),\r\n            false\r\n        );\r\n    }\r\n\r\n    if (per <= pw + parc) return;\r\n\r\n    cvsCtx.lineTo(x + width, y + radius + h * between01((per - pw - parc) / ph));\r\n\r\n    if (per <= pw + parc + ph) return;\r\n\r\n    if (inset) {\r\n        cvsCtx.arc(\r\n            x + width,\r\n            y + height,\r\n            radius,\r\n            Math.PI / -2,\r\n            (Math.PI / -2) * (1 + between01((per - pw - parc - ph) / parc)),\r\n            true\r\n        );\r\n    } else {\r\n        cvsCtx.arc(\r\n            x + width - radius,\r\n            y + height - radius,\r\n            radius,\r\n            0,\r\n            (Math.PI / 2) * between01((per - pw - parc - ph) / parc),\r\n            false\r\n        );\r\n    }\r\n\r\n    if (per <= pw + ph + 2 * parc) return;\r\n\r\n    cvsCtx.lineTo(x + radius + w * (1 - between01((per - pw - ph - 2 * parc) / pw)), y + height);\r\n\r\n    if (per <= pw + parc + ph + parc + pw) return;\r\n\r\n    if (inset) {\r\n        cvsCtx.arc(x, y + height, radius, 0, (Math.PI / -2) * between01((per - 2 * (pw + parc) - ph) / parc), true);\r\n    } else {\r\n        cvsCtx.arc(\r\n            x + radius,\r\n            y + height - radius,\r\n            radius,\r\n            Math.PI / 2,\r\n            (Math.PI / 2) * (1 + between01((per - 2 * (pw + parc) - ph) / parc)),\r\n            false\r\n        );\r\n    }\r\n\r\n    if (per <= 2 * pw + ph + 3 * parc) return;\r\n\r\n    cvsCtx.lineTo(x, y + radius + h * (1 - between01((per - 2 * pw - ph - 3 * parc) / ph)));\r\n\r\n    if (per <= 2 * (pw + parc + ph) + parc) return;\r\n\r\n    if (inset) {\r\n        cvsCtx.arc(\r\n            x,\r\n            y,\r\n            radius,\r\n            Math.PI / 2,\r\n            (Math.PI / 2) * (1 - between01((per - 2 * (pw + ph) - 3 * parc) / parc)),\r\n            true\r\n        );\r\n    } else {\r\n        cvsCtx.arc(\r\n            x + radius,\r\n            y + radius,\r\n            radius,\r\n            Math.PI,\r\n            (Math.PI / 2) * (2 + between01((per - 2 * (pw + ph) - 3 * parc) / parc)),\r\n            false\r\n        );\r\n    }\r\n};\r\n\r\nfunction drawRoundedRect(x, y, width, height, radius, per) {\r\n    cvsCtx.save();\r\n\r\n    if (isStaticRoundedRect) {\r\n        cvsCtx.beginPath();\r\n        cvsCtx.roundedRect_arcTo(x, y, width, height, radius);\r\n        cvsCtx.strokeStyle = '#70dfc0';\r\n        cvsCtx.lineWidth = outlineWidth;\r\n        cvsCtx.stroke();\r\n    }\r\n\r\n    if (isDynamicRoundedRect) {\r\n        cvsCtx.beginPath();\r\n        cvsCtx.roundedRect_arc(x, y, width, height, radius, false, per);\r\n        cvsCtx.strokeStyle = '#3f7173';\r\n        cvsCtx.lineWidth = outlineWidth / 2;\r\n        cvsCtx.stroke();\r\n    }\r\n\r\n    if (isDynamicInsetRoundedRect) {\r\n        cvsCtx.beginPath();\r\n        cvsCtx.roundedRect_arc(\r\n            outlineWidth / 4,\r\n            outlineWidth / 4,\r\n            cvsSize - outlineWidth / 2,\r\n            cvsSize - outlineWidth / 2,\r\n            radius * 2 - outlineWidth / 4,\r\n            true,\r\n            per\r\n        );\r\n        cvsCtx.strokeStyle = '#d5f6ec';\r\n        cvsCtx.lineWidth = outlineWidth / 2;\r\n        cvsCtx.stroke();\r\n    }\r\n\r\n    cvsCtx.restore();\r\n}\r\n\r\ndraw();\r\n\r\nfunction draw() {\r\n    if (Date.now() - lastTime > 16) {\r\n        lastTime = Date.now();\r\n\r\n        cvsCtx.clearRect(0, 0, cvsSize, cvsSize);\r\n        // percent = 0.5;\r\n        percent = (percent + 0.00390625) % 1;\r\n\r\n        renderWave(percent);\r\n        renderOutline(percent);\r\n        renderText(percent);\r\n\r\n        drawRoundedRect(cvsQuarterSize, cvsQuarterSize, cvsHalfSize, cvsHalfSize, cvsQuarterSize * percent, percent);\r\n    }\r\n    requestAnimationFrame(draw);\r\n}\r\n\r\nfunction renderOutline(per) {\r\n    cvsCtx.save();\r\n    cvsCtx.beginPath();\r\n    cvsCtx.arc(cvsHalfSize, cvsHalfSize, circleRadius, -PI_1_2, PI_2 * per - PI_1_2, false);\r\n    cvsCtx.strokeStyle = '#70dfc0';\r\n    cvsCtx.lineWidth = outlineWidth;\r\n    cvsCtx.stroke();\r\n    cvsCtx.restore();\r\n}\r\n\r\nfunction renderWave(per) {\r\n    cvsCtx.save();\r\n    setCircleClip();\r\n    drawWave(per);\r\n    cvsCtx.restore();\r\n}\r\n\r\nfunction setCircleClip() {\r\n    cvsCtx.beginPath();\r\n    cvsCtx.arc(cvsHalfSize, cvsHalfSize, clipCircleRadius, 0, PI_2, false);\r\n    cvsCtx.clip();\r\n}\r\n\r\nfunction drawWave(per) {\r\n    let p = 1 - per,\r\n        fi = lastTime * φ;\r\n    cvsCtx.beginPath();\r\n    cvsCtx.moveTo(outlineWidth, p ** 0.5 * A * Math.sin(fi) + p * clipCircleDiameter + outlineWidth);\r\n    for (let i = 1; i <= clipCircleDiameter; i++) {\r\n        cvsCtx.lineTo(i + outlineWidth, p ** 0.5 * A * Math.sin(ω * i + fi) + p * clipCircleDiameter + outlineWidth);\r\n    }\r\n    cvsCtx.lineTo(waveBottomRight, waveBottomRight);\r\n    cvsCtx.lineTo(outlineWidth, waveBottomRight);\r\n    cvsCtx.closePath();\r\n    let fill = cvsCtx.createLinearGradient(outlineWidth, outlineWidth, outlineWidth, waveBottomRight);\r\n    fill.addColorStop(0, 'rgba(10, 12, 32, 0.5)');\r\n    fill.addColorStop(0.5, `rgba(${44 - per * 34}, ${75 - per * 63}, ${80 - per * 48}, 0.5)`);\r\n    fill.addColorStop(1, `rgba(${77 - per * 67}, ${146 - per * 134}, ${134 - per * 102}, 0.5)`);\r\n    cvsCtx.fillStyle = fill;\r\n    cvsCtx.fill();\r\n}\r\n\r\nfunction renderText(per) {\r\n    cvsCtx.save();\r\n    cvsCtx.textAlign = 'center';\r\n    cvsCtx.textBaseline = 'middle';\r\n    cvsCtx.font = cvsSize / 8 + 'px impact';\r\n    cvsCtx.fillStyle = '#70dfc0';\r\n    cvsCtx.fillText(Math.floor(per * 100) + '%', cvsHalfSize, cvsHalfSize);\r\n    cvsCtx.restore();\r\n}\r\n\r\nwindow.onresize = function () {\r\n    cvsSize = $canvas.offsetWidth;\r\n    cvsHalfSize = cvsSize / 2;\r\n    cvsQuarterSize = cvsSize / 4;\r\n    outlineWidth = cvsSize / 20;\r\n    circleRadius = cvsHalfSize - outlineWidth / 2;\r\n    A = circleRadius / 6;\r\n    ω = Math.PI / circleRadius;\r\n    $canvas.width = $canvas.height = cvsSize;\r\n};\r\n\r\nfunction between01(n) {\r\n    return Math.min(Math.max(n, 0), 1);\r\n}\r\n\r\ndocument.querySelector('#staticRoundedRect').addEventListener('input', function () {\r\n    isStaticRoundedRect = this.checked;\r\n});\r\n\r\ndocument.querySelector('#dynamicRoundedRect').addEventListener('input', function () {\r\n    isDynamicRoundedRect = this.checked;\r\n});\r\n\r\ndocument.querySelector('#dynamicInsetRoundedRect').addEventListener('input', function () {\r\n    isDynamicInsetRoundedRect = this.checked;\r\n});\r\n"],"file":"script.babel.js"}