{"version":3,"sources":["script.js"],"names":["getQueryString","key","result","window","location","search","substring","match","RegExp","decodeURI","initialSlide","Swiper","isNaN","direction","mousewheel","pagination","el","resistance","resistanceRatio","noSwiping","cvs_1","document","querySelector","width","offsetWidth","devicePixelRatio","height","offsetHeight","cvs_2","Snowflake","p","cvsCtx","radius","duration","startX","startY","endX","endY","startTime","Date","now","Math","max","min","x","y","f","createRadialGradient","addColorStop","beginPath","arc","PI","fillStyle","fill","closePath","Snowing","cvs","clearRect","_addSnowflake","snowflake","filter","item","destroyed","render","requestAnimationFrame","_onEnterFrame","getContext","random","push","Footpring","_easeInQuad","strokeStyle","lineWidth","lineCap","moveTo","lineTo","stroke","FogWindow","e","lastPoint","offsetX","offsetY","path","fillRect","textAlign","textBaseline","font","fillText","addEventListener","wipe","removeEventListener","cvs_3","ScratchCard","img","$img","w","naturalWidth","h","naturalHeight","offCvs","createElement","offCvsCtx","sWidth","sHeight","sx","sy","drawImage","save","globalCompositeOperation","restore","src","_onLoad"],"mappings":"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","sourcesContent":["(function () {\r\n    const getQueryString = function (key) {\r\n        const result = window.location.search.substring(1).match(new RegExp('(^|&)' + key + '=([^&]*)(&|$)', 'i'));\r\n        return result !== null ? decodeURI(result[2]) : null;\r\n    };\r\n    const initialSlide = getQueryString('index');\r\n    new Swiper('.swiper-container', {\r\n        initialSlide: isNaN(initialSlide) ? 0 : initialSlide,\r\n        direction: 'vertical', // 垂直切换选项\r\n        mousewheel: true,\r\n        pagination: {\r\n            el: '.swiper-pagination',\r\n        },\r\n        resistance: true,\r\n        resistanceRatio: 0,\r\n        noSwiping: true,\r\n    });\r\n})();\r\n\r\n/* page-1 */\r\nconst cvs_1 = document.querySelector('#cvs-1');\r\ncvs_1.width = cvs_1.offsetWidth * window.devicePixelRatio;\r\ncvs_1.height = cvs_1.offsetHeight * window.devicePixelRatio;\r\nconst cvs_2 = document.querySelector('#cvs-2');\r\ncvs_2.width = cvs_2.offsetWidth * window.devicePixelRatio;\r\ncvs_2.height = cvs_2.offsetHeight * window.devicePixelRatio;\r\n\r\n// 雪花\r\nclass Snowflake {\r\n    cvsCtx = null;\r\n    radius = 0;\r\n    duration = 5000;\r\n    startTime = 0;\r\n    startX = 0;\r\n    startY = 0;\r\n    endX = 0;\r\n    endY = 0;\r\n\r\n    get destroyed() {\r\n        return this.p === 1;\r\n    }\r\n\r\n    constructor({ cvsCtx, radius, duration, startX, startY, endX, endY }) {\r\n        this.cvsCtx = cvsCtx;\r\n        this.radius = radius;\r\n        this.duration = duration;\r\n        this.startX = startX;\r\n        this.startY = startY;\r\n        this.endX = endX;\r\n        this.endY = endY;\r\n        this.startTime = Date.now();\r\n    }\r\n\r\n    render() {\r\n        const { cvsCtx, radius, duration, startTime, startX, startY, endX, endY } = this;\r\n        const p = (this.p = Math.max(Math.min((Date.now() - startTime) / duration, 1), 0));\r\n        const x = startX + (endX - startX) * p;\r\n        const y = startY + (endY - startY) * p;\r\n        const f = cvsCtx.createRadialGradient(x, y, 0, x, y, radius);\r\n        f.addColorStop(0, 'rgba(255,255,255,1)');\r\n        f.addColorStop(0.25, 'rgba(255,255,255,1)');\r\n        f.addColorStop(1, 'rgba(255,255,255,0)');\r\n        cvsCtx.beginPath();\r\n        cvsCtx.arc(x, y, radius, 0, Math.PI * 2, false);\r\n        cvsCtx.fillStyle = f;\r\n        cvsCtx.fill();\r\n        cvsCtx.closePath();\r\n    }\r\n}\r\n\r\n// 下雪\r\nclass Snowing {\r\n    cvs = null;\r\n    cvsCtx = null;\r\n    width = 0;\r\n    height = 0;\r\n    snowflake = [];\r\n\r\n    constructor(cvs) {\r\n        this.cvs = cvs;\r\n        this.cvsCtx = cvs.getContext('2d');\r\n        this.width = cvs.width;\r\n        this.height = cvs.height;\r\n        this._onEnterFrame();\r\n    }\r\n\r\n    _onEnterFrame = () => {\r\n        const { cvsCtx, width, height } = this;\r\n        cvsCtx.clearRect(0, 0, width, height);\r\n        this._addSnowflake();\r\n        this.snowflake = this.snowflake.filter(item => (!item.destroyed && item.render(), !item.destroyed));\r\n        requestAnimationFrame(this._onEnterFrame);\r\n    };\r\n\r\n    _addSnowflake() {\r\n        const { cvsCtx, width, height } = this;\r\n        const radius = 5 + Math.random() * 10;\r\n        const duration = 2000 + Math.random() * 2000;\r\n        const startX = Math.random() * width;\r\n        const endX = startX;\r\n        const startY = -2 * radius;\r\n        const endY = height + 2 * radius;\r\n        this.snowflake.push(\r\n            new Snowflake({\r\n                cvsCtx,\r\n                radius,\r\n                duration,\r\n                startX,\r\n                startY,\r\n                endX,\r\n                endY,\r\n            })\r\n        );\r\n    }\r\n}\r\n\r\n// 脚印\r\nclass Footpring {\r\n    cvsCtx = null;\r\n    duration = 5000;\r\n    startTime = 0;\r\n    startX = 0;\r\n    startY = 0;\r\n    endX = 0;\r\n    endY = 0;\r\n    p = 0;\r\n\r\n    get destroyed() {\r\n        return this.p === 1;\r\n    }\r\n\r\n    constructor({ cvsCtx, startX, startY, endX, endY }) {\r\n        this.cvsCtx = cvsCtx;\r\n        this.startX = startX;\r\n        this.startY = startY;\r\n        this.endX = endX;\r\n        this.endY = endY;\r\n        this.startTime = Date.now();\r\n    }\r\n\r\n    render() {\r\n        const { cvsCtx, duration, startTime, startX, startY, endX, endY } = this;\r\n        this.p = this._easeInQuad(Math.max(Math.min((Date.now() - startTime) / duration, 1), 0));\r\n        cvsCtx.beginPath();\r\n        cvsCtx.strokeStyle = '#000000';\r\n        cvsCtx.lineWidth = 100 * (1 - this.p) + 1;\r\n        cvsCtx.lineCap = 'round';\r\n        cvsCtx.moveTo(startX, startY);\r\n        cvsCtx.lineTo(endX, endY);\r\n        cvsCtx.stroke();\r\n        cvsCtx.closePath();\r\n    }\r\n\r\n    _easeInQuad(x) {\r\n        return x * x;\r\n    }\r\n}\r\n\r\n// 窗户\r\nclass FogWindow {\r\n    cvs = null;\r\n    cvsCtx = null;\r\n    width = 0;\r\n    height = 0;\r\n    lastPoint = { x: 0, y: 0 };\r\n    path = [];\r\n    snow = [];\r\n\r\n    constructor(cvs) {\r\n        this.cvs = cvs;\r\n        this.cvsCtx = cvs.getContext('2d');\r\n        this.width = cvs.width;\r\n        this.height = cvs.height;\r\n\r\n        cvs.addEventListener('mousedown', e => {\r\n            const { offsetX: x, offsetY: y } = e;\r\n            this.lastPoint.x = x;\r\n            this.lastPoint.y = y;\r\n            cvs.addEventListener('mousemove', this.wipe);\r\n        });\r\n\r\n        cvs.addEventListener('mouseup', e => {\r\n            cvs.removeEventListener('mousemove', this.wipe);\r\n        });\r\n\r\n        this._onEnterFrame();\r\n    }\r\n\r\n    wipe = e => {\r\n        const {\r\n            cvsCtx,\r\n            lastPoint: { x: startX, y: startY },\r\n        } = this;\r\n        const { offsetX: endX, offsetY: endY } = e;\r\n        this.lastPoint.x = endX;\r\n        this.lastPoint.y = endY;\r\n        this.path.push(\r\n            new Footpring({\r\n                cvsCtx,\r\n                startX,\r\n                startY,\r\n                endX,\r\n                endY,\r\n            })\r\n        );\r\n    };\r\n\r\n    _onEnterFrame = () => {\r\n        const { cvsCtx, width, height } = this;\r\n        cvsCtx.clearRect(0, 0, width, height);\r\n        cvsCtx.fillStyle = 'rgba(255,255,255,0.9)';\r\n        cvsCtx.fillRect(0, 0, width, height);\r\n        cvsCtx.fillStyle = '#000000';\r\n        cvsCtx.textAlign = 'center';\r\n        cvsCtx.textBaseline = 'middle';\r\n        cvsCtx.font = '700 400px Helvetica';\r\n        cvsCtx.fillText('winter', width / 2, 200);\r\n        this.path = this.path.filter(item => (!item.destroyed && item.render(), !item.destroyed));\r\n        requestAnimationFrame(this._onEnterFrame);\r\n    };\r\n}\r\n\r\nnew Snowing(cvs_1);\r\nnew FogWindow(cvs_2);\r\n\r\n/* page-2 */\r\nconst cvs_3 = document.querySelector('#cvs-3');\r\ncvs_3.width = cvs_3.offsetWidth * window.devicePixelRatio;\r\ncvs_3.height = cvs_3.offsetHeight * window.devicePixelRatio;\r\n\r\n// 刮刮卡\r\nclass ScratchCard {\r\n    cvs = null;\r\n    cvsCtx = null;\r\n    width = 0;\r\n    height = 0;\r\n    lastPoint = { x: 0, y: 0 };\r\n    path = [];\r\n    $img = null;\r\n\r\n    constructor(cvs, img) {\r\n        this.cvs = cvs;\r\n        this.cvsCtx = cvs.getContext('2d');\r\n        this.width = cvs.width;\r\n        this.height = cvs.height;\r\n        this.$img = document.createElement('img');\r\n        this.$img.src = img;\r\n        this.$img.addEventListener('load', this._onLoad);\r\n    }\r\n\r\n    _onLoad = () => {\r\n        const {\r\n            cvs,\r\n            $img,\r\n            width,\r\n            height,\r\n            $img: { naturalWidth: w, naturalHeight: h },\r\n        } = this;\r\n        const offCvs = (this.offCvs = document.createElement('canvas'));\r\n        offCvs.width = width;\r\n        offCvs.height = height;\r\n        const offCvsCtx = offCvs.getContext('2d');\r\n        let sWidth, sHeight, sx, sy;\r\n        if (w / h > width / height) {\r\n            sWidth = h * (width / height);\r\n            sHeight = h;\r\n            sx = (w - sWidth) / 2;\r\n            sy = 0;\r\n        } else {\r\n            sWidth = w;\r\n            sHeight = w * (height / width);\r\n            sx = 0;\r\n            sy = h - sHeight;\r\n        }\r\n        offCvsCtx.drawImage($img, sx, sy, sWidth, sHeight, 0, 0, width, height);\r\n\r\n        cvs.addEventListener('mousedown', e => {\r\n            const { offsetX: x, offsetY: y } = e;\r\n            this.lastPoint.x = x;\r\n            this.lastPoint.y = y;\r\n            cvs.addEventListener('mousemove', this.wipe);\r\n        });\r\n        cvs.addEventListener('mouseup', e => {\r\n            cvs.removeEventListener('mousemove', this.wipe);\r\n        });\r\n\r\n        this._onEnterFrame();\r\n    };\r\n\r\n    wipe = e => {\r\n        const {\r\n            cvsCtx,\r\n            lastPoint: { x: startX, y: startY },\r\n        } = this;\r\n        const { offsetX: endX, offsetY: endY } = e;\r\n        this.lastPoint.x = endX;\r\n        this.lastPoint.y = endY;\r\n        this.path.push(\r\n            new Footpring({\r\n                cvsCtx,\r\n                startX,\r\n                startY,\r\n                endX,\r\n                endY,\r\n            })\r\n        );\r\n    };\r\n\r\n    _onEnterFrame = () => {\r\n        const { cvsCtx, width, height, offCvs } = this;\r\n        cvsCtx.clearRect(0, 0, width, height);\r\n        cvsCtx.fillStyle = '#000000';\r\n        cvsCtx.textAlign = 'center';\r\n        cvsCtx.textBaseline = 'middle';\r\n        cvsCtx.font = '700 400px Helvetica';\r\n        cvsCtx.fillText('coming', width / 2, 200);\r\n        this.path = this.path.filter(item => (!item.destroyed && item.render(), !item.destroyed));\r\n        cvsCtx.save();\r\n        cvsCtx.globalCompositeOperation = 'source-in';\r\n        cvsCtx.drawImage(offCvs, 0, 0, width, height);\r\n        cvsCtx.restore();\r\n        requestAnimationFrame(this._onEnterFrame);\r\n    };\r\n}\r\n\r\nnew ScratchCard(cvs_3, './bg-2.jpg');\r\n"],"file":"script.babel.js"}