{"version":3,"sources":["script.js"],"names":["$canvas","document","getElementById","cvsCtx","getContext","PI_1_2","Math","PI","PI_2","cvsSize","offsetWidth","window","devicePixelRatio","cvsHalfSize","cvsQuarterSize","outlineWidth","circleRadius","clipCircleRadius","clipCircleDiameter","waveBottomRight","A","ω","φ","percent","isStaticRoundedRect","isDynamicRoundedRect","isDynamicInsetRoundedRect","lastTime","width","height","CanvasRenderingContext2D","prototype","roundedRect_arcTo","x","y","radius","moveTo","lineTo","arcTo","roundedRect_arc","inset","per","between01","isNaN","l","w","pw","h","ph","arc","parc","drawRoundedRect","save","beginPath","strokeStyle","lineWidth","stroke","restore","draw","Date","now","clearRect","renderWave","renderOutline","renderText","requestAnimationFrame","setCircleClip","drawWave","clip","p","fi","sin","i","closePath","fill","createLinearGradient","addColorStop","fillStyle","textAlign","textBaseline","font","fillText","floor","onresize","n","min","max","querySelector","addEventListener","checked"],"mappings":"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","sourcesContent":["const $canvas = document.getElementById('wave'),\r\n    cvsCtx = $canvas.getContext('2d'),\r\n    PI_1_2 = Math.PI / 2,\r\n    PI_2 = Math.PI * 2;\r\n\r\nlet cvsSize = $canvas.offsetWidth * window.devicePixelRatio,\r\n    cvsHalfSize = cvsSize / 2,\r\n    cvsQuarterSize = cvsSize / 4,\r\n    outlineWidth = cvsSize / 20,\r\n    circleRadius = cvsHalfSize - outlineWidth / 2,\r\n    clipCircleRadius = cvsHalfSize - outlineWidth,\r\n    clipCircleDiameter = clipCircleRadius * 2,\r\n    waveBottomRight = outlineWidth + clipCircleDiameter,\r\n    A = circleRadius / 6, // 振幅，最大为半径的六分之一\r\n    ω = Math.PI / circleRadius, // 角速度，此时周期为2R，在圆内最宽处刚好显示一个完整的周期\r\n    φ = Math.PI / 240, // 每16ms波形的相位变化差值\r\n    percent = 0,\r\n    isStaticRoundedRect = false,\r\n    isDynamicRoundedRect = false,\r\n    isDynamicInsetRoundedRect = false,\r\n    lastTime = 0;\r\n\r\n$canvas.width = $canvas.height = cvsSize;\r\n\r\nCanvasRenderingContext2D.prototype.roundedRect_arcTo = function (x, y, width, height, radius) {\r\n    cvsCtx.moveTo(x + radius, y);\r\n    cvsCtx.lineTo(x + width - radius, y);\r\n    cvsCtx.arcTo(x + width, y, x + width, y + radius, radius);\r\n    cvsCtx.lineTo(x + width, y + height - radius);\r\n    cvsCtx.arcTo(x + width, y + height, x + width - radius, y + height, radius);\r\n    cvsCtx.lineTo(x + radius, y + height);\r\n    cvsCtx.arcTo(x, y + height, x, y + height - radius, radius);\r\n    cvsCtx.lineTo(x, y + radius);\r\n    cvsCtx.arcTo(x, y, x + radius, y, radius);\r\n};\r\n\r\nCanvasRenderingContext2D.prototype.roundedRect_arc = function (x, y, width, height, radius, inset = false, per = 1) {\r\n    inset = !!inset;\r\n    per = between01(isNaN(per) ? 1 : per);\r\n\r\n    const l = width * 2 + height * 2 - radius * 8 + Math.PI * radius * 2;\r\n    const w = width - radius * 2;\r\n    const pw = w / l;\r\n    const h = height - radius * 2;\r\n    const ph = h / l;\r\n    const arc = (Math.PI * radius * 2) / 4;\r\n    const parc = arc / l;\r\n\r\n    cvsCtx.moveTo(x + radius, y);\r\n    cvsCtx.lineTo(x + radius + w * between01(per / pw), y);\r\n\r\n    if (per <= pw) return;\r\n\r\n    if (inset) {\r\n        cvsCtx.arc(x + width, y, radius, Math.PI, (Math.PI / 2) * (2 - between01((per - pw) / parc)), true);\r\n    } else {\r\n        cvsCtx.arc(\r\n            x + width - radius,\r\n            y + radius,\r\n            radius,\r\n            Math.PI / -2,\r\n            (Math.PI / -2) * (1 - between01((per - pw) / parc)),\r\n            false\r\n        );\r\n    }\r\n\r\n    if (per <= pw + parc) return;\r\n\r\n    cvsCtx.lineTo(x + width, y + radius + h * between01((per - pw - parc) / ph));\r\n\r\n    if (per <= pw + parc + ph) return;\r\n\r\n    if (inset) {\r\n        cvsCtx.arc(\r\n            x + width,\r\n            y + height,\r\n            radius,\r\n            Math.PI / -2,\r\n            (Math.PI / -2) * (1 + between01((per - pw - parc - ph) / parc)),\r\n            true\r\n        );\r\n    } else {\r\n        cvsCtx.arc(\r\n            x + width - radius,\r\n            y + height - radius,\r\n            radius,\r\n            0,\r\n            (Math.PI / 2) * between01((per - pw - parc - ph) / parc),\r\n            false\r\n        );\r\n    }\r\n\r\n    if (per <= pw + ph + 2 * parc) return;\r\n\r\n    cvsCtx.lineTo(x + radius + w * (1 - between01((per - pw - ph - 2 * parc) / pw)), y + height);\r\n\r\n    if (per <= pw + parc + ph + parc + pw) return;\r\n\r\n    if (inset) {\r\n        cvsCtx.arc(x, y + height, radius, 0, (Math.PI / -2) * between01((per - 2 * (pw + parc) - ph) / parc), true);\r\n    } else {\r\n        cvsCtx.arc(\r\n            x + radius,\r\n            y + height - radius,\r\n            radius,\r\n            Math.PI / 2,\r\n            (Math.PI / 2) * (1 + between01((per - 2 * (pw + parc) - ph) / parc)),\r\n            false\r\n        );\r\n    }\r\n\r\n    if (per <= 2 * pw + ph + 3 * parc) return;\r\n\r\n    cvsCtx.lineTo(x, y + radius + h * (1 - between01((per - 2 * pw - ph - 3 * parc) / ph)));\r\n\r\n    if (per <= 2 * (pw + parc + ph) + parc) return;\r\n\r\n    if (inset) {\r\n        cvsCtx.arc(\r\n            x,\r\n            y,\r\n            radius,\r\n            Math.PI / 2,\r\n            (Math.PI / 2) * (1 - between01((per - 2 * (pw + ph) - 3 * parc) / parc)),\r\n            true\r\n        );\r\n    } else {\r\n        cvsCtx.arc(\r\n            x + radius,\r\n            y + radius,\r\n            radius,\r\n            Math.PI,\r\n            (Math.PI / 2) * (2 + between01((per - 2 * (pw + ph) - 3 * parc) / parc)),\r\n            false\r\n        );\r\n    }\r\n};\r\n\r\nfunction drawRoundedRect(x, y, width, height, radius, per) {\r\n    cvsCtx.save();\r\n\r\n    if (isStaticRoundedRect) {\r\n        cvsCtx.beginPath();\r\n        cvsCtx.roundedRect_arcTo(x, y, width, height, radius);\r\n        cvsCtx.strokeStyle = '#70dfc0';\r\n        cvsCtx.lineWidth = outlineWidth;\r\n        cvsCtx.stroke();\r\n    }\r\n\r\n    if (isDynamicRoundedRect) {\r\n        cvsCtx.beginPath();\r\n        cvsCtx.roundedRect_arc(x, y, width, height, radius, false, per);\r\n        cvsCtx.strokeStyle = '#3f7173';\r\n        cvsCtx.lineWidth = outlineWidth / 2;\r\n        cvsCtx.stroke();\r\n    }\r\n\r\n    if (isDynamicInsetRoundedRect) {\r\n        cvsCtx.beginPath();\r\n        cvsCtx.roundedRect_arc(\r\n            outlineWidth / 4,\r\n            outlineWidth / 4,\r\n            cvsSize - outlineWidth / 2,\r\n            cvsSize - outlineWidth / 2,\r\n            radius * 2 - outlineWidth / 4,\r\n            true,\r\n            per\r\n        );\r\n        cvsCtx.strokeStyle = '#d5f6ec';\r\n        cvsCtx.lineWidth = outlineWidth / 2;\r\n        cvsCtx.stroke();\r\n    }\r\n\r\n    cvsCtx.restore();\r\n}\r\n\r\ndraw();\r\n\r\nfunction draw() {\r\n    if (Date.now() - lastTime > 16) {\r\n        lastTime = Date.now();\r\n\r\n        cvsCtx.clearRect(0, 0, cvsSize, cvsSize);\r\n        // percent = 0.5;\r\n        percent = (percent + 0.00390625) % 1;\r\n\r\n        renderWave(percent);\r\n        renderOutline(percent);\r\n        renderText(percent);\r\n\r\n        drawRoundedRect(cvsQuarterSize, cvsQuarterSize, cvsHalfSize, cvsHalfSize, cvsQuarterSize * percent, percent);\r\n    }\r\n    requestAnimationFrame(draw);\r\n}\r\n\r\nfunction renderOutline(per) {\r\n    cvsCtx.save();\r\n    cvsCtx.beginPath();\r\n    cvsCtx.arc(cvsHalfSize, cvsHalfSize, circleRadius, -PI_1_2, PI_2 * per - PI_1_2, false);\r\n    cvsCtx.strokeStyle = '#70dfc0';\r\n    cvsCtx.lineWidth = outlineWidth;\r\n    cvsCtx.stroke();\r\n    cvsCtx.restore();\r\n}\r\n\r\nfunction renderWave(per) {\r\n    cvsCtx.save();\r\n    setCircleClip();\r\n    drawWave(per);\r\n    cvsCtx.restore();\r\n}\r\n\r\nfunction setCircleClip() {\r\n    cvsCtx.beginPath();\r\n    cvsCtx.arc(cvsHalfSize, cvsHalfSize, clipCircleRadius, 0, PI_2, false);\r\n    cvsCtx.clip();\r\n}\r\n\r\nfunction drawWave(per) {\r\n    let p = 1 - per,\r\n        fi = lastTime * φ;\r\n    cvsCtx.beginPath();\r\n    cvsCtx.moveTo(outlineWidth, p ** 0.5 * A * Math.sin(fi) + p * clipCircleDiameter + outlineWidth);\r\n    for (let i = 1; i <= clipCircleDiameter; i++) {\r\n        cvsCtx.lineTo(i + outlineWidth, p ** 0.5 * A * Math.sin(ω * i + fi) + p * clipCircleDiameter + outlineWidth);\r\n    }\r\n    cvsCtx.lineTo(waveBottomRight, waveBottomRight);\r\n    cvsCtx.lineTo(outlineWidth, waveBottomRight);\r\n    cvsCtx.closePath();\r\n    let fill = cvsCtx.createLinearGradient(outlineWidth, outlineWidth, outlineWidth, waveBottomRight);\r\n    fill.addColorStop(0, 'rgba(10, 12, 32, 0.5)');\r\n    fill.addColorStop(0.5, `rgba(${44 - per * 34}, ${75 - per * 63}, ${80 - per * 48}, 0.5)`);\r\n    fill.addColorStop(1, `rgba(${77 - per * 67}, ${146 - per * 134}, ${134 - per * 102}, 0.5)`);\r\n    cvsCtx.fillStyle = fill;\r\n    cvsCtx.fill();\r\n}\r\n\r\nfunction renderText(per) {\r\n    cvsCtx.save();\r\n    cvsCtx.textAlign = 'center';\r\n    cvsCtx.textBaseline = 'middle';\r\n    cvsCtx.font = cvsSize / 8 + 'px impact';\r\n    cvsCtx.fillStyle = '#70dfc0';\r\n    cvsCtx.fillText(Math.floor(per * 100) + '%', cvsHalfSize, cvsHalfSize);\r\n    cvsCtx.restore();\r\n}\r\n\r\nwindow.onresize = function () {\r\n    cvsSize = $canvas.offsetWidth;\r\n    cvsHalfSize = cvsSize / 2;\r\n    cvsQuarterSize = cvsSize / 4;\r\n    outlineWidth = cvsSize / 20;\r\n    circleRadius = cvsHalfSize - outlineWidth / 2;\r\n    A = circleRadius / 6;\r\n    ω = Math.PI / circleRadius;\r\n    $canvas.width = $canvas.height = cvsSize;\r\n};\r\n\r\nfunction between01(n) {\r\n    return Math.min(Math.max(n, 0), 1);\r\n}\r\n\r\ndocument.querySelector('#staticRoundedRect').addEventListener('input', function () {\r\n    isStaticRoundedRect = this.checked;\r\n});\r\n\r\ndocument.querySelector('#dynamicRoundedRect').addEventListener('input', function () {\r\n    isDynamicRoundedRect = this.checked;\r\n});\r\n\r\ndocument.querySelector('#dynamicInsetRoundedRect').addEventListener('input', function () {\r\n    isDynamicInsetRoundedRect = this.checked;\r\n});\r\n"],"file":"script.babel.js"}